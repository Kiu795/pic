<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1068px" preserveAspectRatio="none" style="width:649px;height:1068px;background:#FFFFFF;" version="1.1" viewBox="0 0 649 1068" width="649px" zoomAndPan="magnify"><title>AgenticRAG Framework - UML Class Diagram</title><defs/><g><g class="title" data-source-line="9"><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="556.9072" x="41.7583" y="35.4209">AgenticRAG Framework - UML Class Diagram</text></g><!--cluster pt--><g class="cluster" data-entity="pt" data-source-line="12" data-uid="ent0003" id="cluster_pt"><path d="M272.5,57.6094 L290.2139,57.6094 A3.75,3.75 0 0 1 292.7139,60.1094 L299.7139,79.9063 L389.5,79.9063 A2.5,2.5 0 0 1 392,82.4063 L392,150.1094 A2.5,2.5 0 0 1 389.5,152.6094 L272.5,152.6094 A2.5,2.5 0 0 1 270,150.1094 L270,60.1094 A2.5,2.5 0 0 1 272.5,57.6094" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="270" x2="299.7139" y1="79.9063" y2="79.9063"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="16.7139" x="274" y="72.6045">pt</text></g><!--class Transformer--><g class="entity" data-entity="Transformer" data-source-line="12" data-uid="ent0002" id="entity_Transformer"><rect fill="#ADD8E6" height="44" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="89.6504" x="286" y="92.6094"/><ellipse cx="299" cy="106.6094" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M301.9688,112.25 Q301.3906,112.5469 300.75,112.6875 Q300.1094,112.8438 299.4063,112.8438 Q296.9063,112.8438 295.5781,111.2031 Q294.2656,109.5469 294.2656,106.4219 Q294.2656,103.2969 295.5781,101.6406 Q296.9063,99.9844 299.4063,99.9844 Q300.1094,99.9844 300.75,100.1406 Q301.4063,100.2969 301.9688,100.5938 L301.9688,103.3125 Q301.3438,102.7344 300.75,102.4688 Q300.1563,102.1875 299.5313,102.1875 Q298.1875,102.1875 297.5,103.2656 Q296.8125,104.3281 296.8125,106.4219 Q296.8125,108.5156 297.5,109.5938 Q298.1875,110.6563 299.5313,110.6563 Q300.1563,110.6563 300.75,110.3906 Q301.3438,110.1094 301.9688,109.5313 L301.9688,112.25 Z " fill="#000000"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacing" textLength="61.6504" x="311" y="110.0713">Transformer</text><line style="stroke:#000000;stroke-width:1;" x1="287" x2="374.6504" y1="120.6094" y2="120.6094"/><line style="stroke:#000000;stroke-width:1;" x1="287" x2="374.6504" y1="128.6094" y2="128.6094"/></g><!--class AgenticRAG--><g class="entity" data-entity="AgenticRAG" data-source-line="16" data-uid="ent0004" id="entity_AgenticRAG"><rect fill="#ADD8E6" height="451.4219" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="370.7705" x="145.5" y="196.6094"/><ellipse cx="297.4282" cy="210.6094" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M297.5376,205.9531 L296.3813,211.0313 L298.7095,211.0313 L297.5376,205.9531 Z M296.0532,203.7188 L299.0376,203.7188 L302.397,216.1094 L299.9438,216.1094 L299.1782,213.0469 L295.897,213.0469 L295.147,216.1094 L292.7095,216.1094 L296.0532,203.7188 Z " fill="#000000"/><text fill="#000000" font-family="Arial" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="59.4141" x="314.9282" y="214.0713">AgenticRAG</text><line style="stroke:#000000;stroke-width:1;" x1="146.5" x2="515.2705" y1="224.6094" y2="224.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="186.8057" x="151.5" y="241.6045">+retriever: pt.Transformer</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="126.5537" x="151.5" y="257.9014">+generator: None</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90.6582" x="151.5" y="274.1982">+prompt: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="140.6563" x="151.5" y="290.4951">+temperature: float</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77.1982" x="151.5" y="306.792">+top_k: int</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="91.1777" x="151.5" y="323.0889">+top_p: float</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="105.6426" x="151.5" y="339.3857">+max_turn: int</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="102.8057" x="151.5" y="355.6826">+model_id: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="123.5938" x="151.5" y="371.9795">+max_tokens: int</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="104.6924" x="151.5" y="388.2764">+tokenizer: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="154.5264" x="151.5" y="404.5732">+model_kw_args: dict</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="155.8115" x="151.5" y="420.8701">+start_search_tag: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149.5771" x="151.5" y="437.167">+end_search_tag: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="156.208" x="151.5" y="453.4639">+start_results_tag: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149.9736" x="151.5" y="469.7607">+end_results_tag: str</text><line style="stroke:#000000;stroke-width:1;" x1="146.5" x2="515.2705" y1="477.0625" y2="477.0625"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.1465" x="151.5" y="494.0576">+__init__(...)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="324.2627" x="151.5" y="510.3545">+transform(df: pd.DataFrame): pd.DataFrame</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="210.6152" x="151.5" y="526.6514">+transform_one(sample): dict</text><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="265.2959" x="151.5" y="542.9482">+generate(context: List[str]): List[str]</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="318.5752" x="151.5" y="559.2451">+get_search_query(output: str): Optional[str]</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="278.6602" x="151.5" y="575.542">+format_docs(docs: pd.DataFrame): str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="278.7422" x="151.5" y="591.8389">+wrap_search_results(docs_str: str): str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="319.6484" x="151.5" y="608.1357">+format_answers(output: str, strict: bool): str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="358.7705" x="151.5" y="624.4326">+check_answers(model_outputs: List[str]): List[str]</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="209.043" x="151.5" y="640.7295">+is_finished(output: str): bool</text></g><!--class R1Searcher--><g class="entity" data-entity="R1Searcher" data-source-line="46" data-uid="ent0005" id="entity_R1Searcher"><rect fill="#ADD8E6" height="353.6406" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="306.0479" x="12" y="707.6094"/><ellipse cx="132.1992" cy="721.6094" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M135.168,727.25 Q134.5898,727.5469 133.9492,727.6875 Q133.3086,727.8438 132.6055,727.8438 Q130.1055,727.8438 128.7773,726.2031 Q127.4648,724.5469 127.4648,721.4219 Q127.4648,718.2969 128.7773,716.6406 Q130.1055,714.9844 132.6055,714.9844 Q133.3086,714.9844 133.9492,715.1406 Q134.6055,715.2969 135.168,715.5938 L135.168,718.3125 Q134.543,717.7344 133.9492,717.4688 Q133.3555,717.1875 132.7305,717.1875 Q131.3867,717.1875 130.6992,718.2656 Q130.0117,719.3281 130.0117,721.4219 Q130.0117,723.5156 130.6992,724.5938 Q131.3867,725.6563 132.7305,725.6563 Q133.3555,725.6563 133.9492,725.3906 Q134.543,725.1094 135.168,724.5313 L135.168,727.25 Z " fill="#000000"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacing" textLength="58.1494" x="149.6992" y="725.0713">R1Searcher</text><line style="stroke:#000000;stroke-width:1;" x1="13" x2="317.0479" y1="735.6094" y2="735.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="123.5938" x="18" y="752.6045">+max_tokens: int</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.8184" x="18" y="768.9014">+verbose: bool</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="102.8057" x="18" y="785.1982">+model_id: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.8867" x="18" y="801.4951">+hf_token: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.0801" x="18" y="817.792">+_backend: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="186.9766" x="18" y="834.0889">+tokenizer: AutoTokenizer</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153.6992" x="18" y="850.3857">+device: torch.device</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="128.9326" x="18" y="866.6826">+prompt_type: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="155.8115" x="18" y="882.9795">+start_search_tag: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149.5771" x="18" y="899.2764">+end_search_tag: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="156.208" x="18" y="915.5732">+start_results_tag: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149.9736" x="18" y="931.8701">+end_results_tag: str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="199.4043" x="18" y="948.167">+target_sequences: List[str]</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="294.0479" x="18" y="964.4639">+llm: Union[LLM, AutoModelForCausalLM]</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="262.3838" x="18" y="980.7607">+sampling_params: SamplingParams</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="276.9238" x="18" y="997.0576">+stopping_criteria: StoppingCriteriaList</text><line style="stroke:#000000;stroke-width:1;" x1="13" x2="317.0479" y1="1004.3594" y2="1004.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.1465" x="18" y="1021.3545">+__init__(...)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="248.7734" x="18" y="1037.6514">+get_prompt(prompt_type: str): str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="272.5898" x="18" y="1053.9482">+generate(contexts: List[str]): List[str]</text></g><!--class SearchR1--><g class="entity" data-entity="SearchR1" data-source-line="70" data-uid="ent0006" id="entity_SearchR1"><rect fill="#ADD8E6" height="190.6719" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="288.9238" x="353.5" y="789.1094"/><ellipse cx="470.269" cy="803.1094" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M473.2378,808.75 Q472.6597,809.0469 472.019,809.1875 Q471.3784,809.3438 470.6753,809.3438 Q468.1753,809.3438 466.8472,807.7031 Q465.5347,806.0469 465.5347,802.9219 Q465.5347,799.7969 466.8472,798.1406 Q468.1753,796.4844 470.6753,796.4844 Q471.3784,796.4844 472.019,796.6406 Q472.6753,796.7969 473.2378,797.0938 L473.2378,799.8125 Q472.6128,799.2344 472.019,798.9688 Q471.4253,798.6875 470.8003,798.6875 Q469.4565,798.6875 468.769,799.7656 Q468.0815,800.8281 468.0815,802.9219 Q468.0815,805.0156 468.769,806.0938 Q469.4565,807.1563 470.8003,807.1563 Q471.4253,807.1563 472.019,806.8906 Q472.6128,806.6094 473.2378,806.0313 L473.2378,808.75 Z " fill="#000000"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacing" textLength="47.8857" x="487.769" y="806.5713">SearchR1</text><line style="stroke:#000000;stroke-width:1;" x1="354.5" x2="641.4238" y1="817.1094" y2="817.1094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153.6992" x="359.5" y="834.1045">+device: torch.device</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="199.4043" x="359.5" y="850.4014">+target_sequences: List[str]</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="276.9238" x="359.5" y="866.6982">+stopping_criteria: StoppingCriteriaList</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134.1006" x="359.5" y="882.9951">+curr_eos: List[int]</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="143.0693" x="359.5" y="899.292">+retrieval_top_k: int</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="206.0967" x="359.5" y="915.5889">+llm: AutoModelForCausalLM</text><line style="stroke:#000000;stroke-width:1;" x1="354.5" x2="641.4238" y1="922.8906" y2="922.8906"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.1465" x="359.5" y="939.8857">+__init__(...)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138.5713" x="359.5" y="956.1826">+_get_prompt(): str</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="272.5898" x="359.5" y="972.4795">+generate(contexts: List[str]): List[str]</text></g><!--reverse link Transformer to AgenticRAG--><g class="link" data-entity-1="Transformer" data-entity-2="AgenticRAG" data-source-line="84" data-uid="lnk7" id="link_Transformer_AgenticRAG"><path codeLine="84" d="M331,155.0894 C331,169.6194 331,172.4894 331,196.3994" fill="none" id="Transformer-backto-AgenticRAG" style="stroke:#000000;stroke-width:1;"/><polygon fill="none" points="331,137.0894,325,155.0894,337,155.0894,331,137.0894" style="stroke:#000000;stroke-width:1;"/></g><!--reverse link AgenticRAG to R1Searcher--><g class="link" data-entity-1="AgenticRAG" data-entity-2="R1Searcher" data-source-line="85" data-uid="lnk8" id="link_AgenticRAG_R1Searcher"><path codeLine="85" d="M243.9653,664.5626 C236.7153,684.6726 235.55,687.9094 228.48,707.5194" fill="none" id="AgenticRAG-backto-R1Searcher" style="stroke:#000000;stroke-width:1;"/><polygon fill="none" points="250.07,647.6294,238.3209,662.5277,249.6097,666.5975,250.07,647.6294" style="stroke:#000000;stroke-width:1;"/></g><!--reverse link AgenticRAG to SearchR1--><g class="link" data-entity-1="AgenticRAG" data-entity-2="SearchR1" data-source-line="86" data-uid="lnk9" id="link_AgenticRAG_SearchR1"><path codeLine="86" d="M418.5575,664.5507 C436.6675,714.4807 448.77,747.8494 463.73,789.0994" fill="none" id="AgenticRAG-backto-SearchR1" style="stroke:#000000;stroke-width:1;"/><polygon fill="none" points="412.42,647.6294,412.9171,666.5965,424.1979,662.5049,412.42,647.6294" style="stroke:#000000;stroke-width:1;"/></g><!--SRC=[lLNDRXCn4BxlKvWJgMWYmZ7Y4b8L8IK5zUTKLPQpEzcruhKNszkqb1wHW1DlW3Xnub1Lua25U9esF0QptjraTvEsGaZai8fdlXbxPhxFVc0ZY84aWd7fcIcN2TCi9hvWnlIjrNoSMdZXAxd7tm1vt8HiAscTfxlMjSCmTrzp9YhUCVEdeLQf30PAA4rc4RVGZ7xM00aUHdOiqbMWqW7e73GM6ELvbbk1suOWBVTt-y_9Dg9XflIKjCd1Q4W6MI3PuYn4X-Sz9FFtt-SNLvvBI1BRsTTCcedICMXovfrda9kFFtzVVBd-_2C3ih6nclasFq9rgpEFuEyHqO2zWsFGlKQ-meyHe9bLwDzH4WfhebMSs1x1x8N5Gfnam5H3Zqo4OhPqg8HEUuJBgY6fOs9sGZ5ILc6n2a1G7bGtSJWr1Mdg2T62izKrg0kVpYZJ8Q83xfTmOvcsr03JVaGj2wjH88DRF7cK1fCAQzQ5hNMrsmM2KYwvfRJLwNGsodENpMu54-n-qDbYbZaARDINJJp5GRGCYnEH8IkbdPNpFY_d1YsKX8KJdDMG6tk8xgEDol_5b1STUPs2Fcsfr2PfFc24lqmiLvA9QaXs46Pfe7pJoZuh5IpRCzCiATCNRN8X527b5ajqaHXhdO4srPDiPX-ijaV6IebQa1-1Frt4vCFF8ytTbND39pWQ4q7GA3hR8vVKzRTFAAPk8RlTxfuhnKdkBbwYgCRAG97fTbP7apouQgFPvOEqgabioVD-QjL-kIpS0Hnp7tT3hVfH9r_Lv4hjQGAhdFu_Ii3Zen8TpP1XqWUpEWiXuXuva4Yrm-5mjEcg76KDsrPwm5B3n71KOXtzkGofks8nsLvXUENMYxEg9CbGliQx6-ztn1McGM793d6_LhEJvrriDPjPus5JThUohqAi9mMnSbhjTXUqkcEYzpVpRqf7_QHQKr1b7YJnKVs1O8AktEHkNkk6T7y_QQMX_z30-TNNcm-_hjzTpY-llCPx-FHjkrrvyRpAu-TSInslkCf9_040]--></g></svg>